{% extends "base.html" %}

{% block title %}Ayudas Diagn贸sticas - Software SM{% endblock %}

{% block head %}
<style>
    :root {
      --titles: #236e7b;
      --text-links: #0b6169;
      --text-secondary: #5f5f5f;
    }

    /* Ajustamos el contenedor principal para que herede la est茅tica de Software SM */
    .sm-main-container {
        max-width: 900px;
        padding: 40px !important;
    }

    .titulo-principal { 
      color: var(--titles); 
      text-align: center; 
      margin-bottom: 30px; 
      font-weight: 800;
      text-transform: uppercase;
    }

    .titulo-seccion {
      color: var(--titles);
      font-weight: 700;
      font-size: 1.1rem;
      margin-top: 10px;
      margin-bottom: 15px;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* BLOQUE DE INFORMACIN DEL PACIENTE */
    .section-white-box {
      background: #ffffff;
      padding: 25px;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.03);
      border-left: 6px solid var(--titles);
    }

    .section-white-box p {
      margin-bottom: 8px;
      font-size: 15px;
    }

    .section-white-box strong {
      color: var(--text-secondary);
      font-weight: 600;
    }

    /* BOTONES DE ACCIN (GRANDES Y LIMPIOS) */
    .list-group-item-action {
      background-color: #ffffff !important;
      color: var(--text-links) !important;
      border: 1px solid rgba(0,0,0,0.08) !important;
      border-radius: 15px !important;
      margin-bottom: 15px;
      padding: 20px 25px;
      font-weight: 700;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 20px;
      font-size: 1.1rem;
    }

    .list-group-item-action:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(35, 110, 123, 0.15);
      background-color: #fcfcfc !important;
      color: var(--titles) !important;
      border-color: var(--titles) !important;
    }

    /* NAVEGACIN INFERIOR */
    .nav-links {
      margin-top: 40px;
      padding-top: 25px;
      border-top: 1px dashed rgba(0,0,0,0.15);
      text-align: center;
    }

    .btn-nav {
      color: var(--text-links);
      text-decoration: none;
      font-weight: 700;
      font-size: 13px;
      padding: 10px 15px;
      border-radius: 8px;
      text-transform: uppercase;
    }

    .btn-nav:hover {
      background: rgba(11, 97, 105, 0.08);
      color: var(--titles);
    }

    .separator {
      color: #dee2e6;
      padding: 0 10px;
    }
</style>
{% endblock %}

{% block content %}
  <h2 class="titulo-principal">Ayudas Diagn贸sticas</h2>

  <h5 class="titulo-seccion"> Historia cl铆nica seleccionada</h5>
  <div class="section-white-box">
    <div class="row">
      <div class="col-md-6 border-end">
        <p><strong>Paciente:</strong> {{ paciente.nombre }}</p>
        <p><strong>Identificaci贸n:</strong> {{ paciente.numero }}</p>
        <p><strong>Ubicaci贸n/Cama:</strong> {{ paciente.cama or 'No asignada' }}</p>
      </div>
      <div class="col-md-6 ps-md-4">
        <p><strong>Tipo historia:</strong> {{ historia.tipo_historia }}</p>
        <p><strong>N掳 Historia:</strong> {{ historia.numero_historia }}</p>
        <p><strong>Ingreso N掳:</strong> {{ historia.numero_ingreso }}</p>
        <p><strong>Fecha:</strong> {{ historia.fecha_registro.strftime('%d/%m/%Y %H:%M') }}</p>
      </div>
    </div>
  </div>

  <h5 class="titulo-seccion">锔 Acciones disponibles</h5>
  <div class="list-group shadow-sm">
    <a href="{{ url_for('ayudas.ayudas_imagenes', historia_id=historia.id) }}" 
       class="list-group-item list-group-item-action">
       <span style="font-size: 1.8rem;"></span> Im谩genes diagn贸sticas
    </a>
    <a href="{{ url_for('ayudas.laboratorio_paciente', historia_id=historia.id) }}" 
       class="list-group-item list-group-item-action">
       <span style="font-size: 1.8rem;">И</span> Ver laboratorio solicitado
    </a>
  </div>

  <div class="nav-links">
    <a href="{{ url_for('ayudas.inicio_ayudas') }}" class="btn-nav">
       Buscar otro paciente
    </a>
    <span class="separator">|</span>
    <a href="{{ url_for('menu.inicio') }}" class="btn-nav">
       Volver al Inicio
    </a>
  </div>
{% endblock %}